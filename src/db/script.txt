CREATE TABLE TAB_PRODUTO(
    ID_PRODUTO    INTEGER NOT NULL PRIMARY KEY,
    DESCRICAO     VARCHAR(100),
    VALOR         DECIMAL(12,2)
);

create generator gen_produto_id;

CREATE TRIGGER TR_PRODUTO FOR TAB_PRODUTO
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.ID_PRODUTO =gen_id(gen_produto_id, 1);
END


CREATE TABLE TAB_CLIENTE(
    ID_CLIENTE    INTEGER NOT NULL PRIMARY KEY,
    NOME     VARCHAR(100)
);

create generator gen_cliente_id;

CREATE TRIGGER TR_CLIENTE FOR TAB_CLIENTE
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.ID_CLIENTE =gen_id(gen_cliente_id, 1);
END



CREATE TABLE TAB_PEDIDO(
    ID_PEDIDO    INTEGER NOT NULL PRIMARY KEY,
    ID_CLIENTE	 INTEGER,
    VALOR         DECIMAL(12,2)
);

create generator gen_pedido_id;

CREATE TRIGGER TR_PEDIDO FOR TAB_PEDIDO
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.ID_PEDIDO =gen_id(gen_pedido_id, 1);
END


CREATE TABLE TAB_PEDIDO_ITEM(
    ID_ITEM	INTEGER NOT NULL PRIMARY KEY,
    ID_PEDIDO   INTEGER,
    ID_PRODUTO  INTEGER,
    QTD         DECIMAL(12,2),
    VALOR_UNIT  DECIMAL(12,2),
    VALOR_TOTAL  DECIMAL(12,2)
);

create generator gen_pedido_item_id;

CREATE TRIGGER TR_PEDIDO_ITEM FOR TAB_PEDIDO_ITEM
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    new.ID_ITEM =gen_id(gen_pedido_item_id, 1);
END



